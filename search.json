[{"path":"https://ryo-asashi.github.io/midnight/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 midnight authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ryo-asashi.github.io/midnight/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ryoichi Asashiba. Author, maintainer.","code":""},{"path":"https://ryo-asashi.github.io/midnight/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Asashiba R (2025). midnight: Tidymodels Interface 'midr' Package. R package version 0.1.0.903, https://github.com/ryo-asashi/midnight.","code":"@Manual{,   title = {midnight: A Tidymodels Interface for the 'midr' Package},   author = {Ryoichi Asashiba},   year = {2025},   note = {R package version 0.1.0.903},   url = {https://github.com/ryo-asashi/midnight}, }"},{"path":"https://ryo-asashi.github.io/midnight/index.html","id":"midnight-","dir":"","previous_headings":"","what":"A Tidymodels Interface for the midr Package","title":"A Tidymodels Interface for the midr Package","text":"‘midnight’ package implements ‘parsnip’ engine ‘midr’ package, allowing users seamlessly fit, tune, evaluate MID (Maximum Interpretation Decomposition) models ‘tidymodels’ workflows. Development augmentation package driven research “Moonlight Seminar 2025”, collaborative study group actuaries Institute Actuaries Japan focused advancing practical applications interpretable models.","code":""},{"path":"https://ryo-asashi.github.io/midnight/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"A Tidymodels Interface for the midr Package","text":"can install development version midnight GitHub :","code":"# install.packages(\"pak\") pak::pak(\"ryo-asashi/midnight\")"},{"path":"https://ryo-asashi.github.io/midnight/index.html","id":"fit-mid-surrogate-models-using-parsnip","dir":"","previous_headings":"","what":"Fit MID Surrogate Models using ‘parsnip’","title":"A Tidymodels Interface for the midr Package","text":"basic example shows solve common problem:","code":"library(parsnip) library(midr) library(midnight) library(ggplot2) library(gridExtra) library(tune) library(rsample) theme_set(theme_midr(\"y\")) # create a first-order mid surrogate model mid_spec_1 <- mid_surrogate(   params_main = 50, penalty = .9 ) %>%   set_mode(\"regression\") %>%   set_engine(\"midr\", verbosity = 3) mid_spec_1 #> mid surrogate Model Specification (regression) #>  #> Main Arguments: #>   penalty = 0.9 #>   params_main = 50 #>  #> Engine-Specific Arguments: #>   verbosity = 3 #>  #> Computational engine: midr # fit the model mid_1 <- mid_spec_1 %>%   fit(Ozone ~ ., airquality) mid_1 #> parsnip model object #>  #>  #> Call: #> interpret(x = x, y = y, weights = weights, k = k, lambda = penalty, #>  verbosity = ..1) #>  #> Intercept: 42.099 #>  #> Main Effects: #> 5 main effect terms #>  #> Uninterpreted Variation Ratio: 0.085045 # create a second-order mid surrogate model via \"custom formula\" mid_spec_2 <- mid_surrogate(   params_main = 50, params_inter = 5, penalty = .9,   custom_formula = Ozone ~ .^2 ) %>%   set_mode(\"regression\") %>%   set_engine(\"midr\", verbosity = 3) mid_spec_2 #> mid surrogate Model Specification (regression) #>  #> Main Arguments: #>   penalty = 0.9 #>   params_main = 50 #>   params_inter = 5 #>   custom_formula = Ozone ~ .^2 #>  #> Engine-Specific Arguments: #>   verbosity = 3 #>  #> Computational engine: midr # fit the model mid_2 <- mid_spec_2 %>%   fit(Ozone ~ ., airquality) # pass original data on to interpret() mid_2 #> parsnip model object #>  #>  #> Call: #> interpret(formula = Ozone ~ .^2, data = data, weights = weights, #>  verbosity = ..1, k = k, lambda = penalty) #>  #> Intercept: 42.099 #>  #> Main Effects: #> 5 main effect terms #>  #> Interactions: #> 10 interaction terms #>  #> Uninterpreted Variation Ratio: 0.073086 grid.arrange(nrow = 2,  ggmid(mid.importance(mid_2$fit), theme = \"moon\"),  ggmid(mid_2$fit, \"Temp\", main.effects = TRUE),  ggmid(mid_2$fit, \"Wind\", main.effects = TRUE),  ggmid(mid_2$fit, \"Temp:Wind\", main.effects = TRUE, theme = \"moonlit\") )"},{"path":"https://ryo-asashi.github.io/midnight/index.html","id":"tune-mid-surrogate-models-using-tune","dir":"","previous_headings":"","what":"Tune MID Surrogate Models using ‘tune’","title":"A Tidymodels Interface for the midr Package","text":"","code":"# create a second-order mid surrogate model via \"custom formula\" mid_spec <- mid_surrogate(   params_main = tune(),   params_inter = tune(),   penalty = tune(),   custom_formula = Ozone ~ .^2 ) %>%   set_mode(\"regression\") %>%   set_engine(\"midr\", verbosity = 3) mid_spec #> mid surrogate Model Specification (regression) #>  #> Main Arguments: #>   penalty = tune() #>   params_main = tune() #>   params_inter = tune() #>   custom_formula = Ozone ~ .^2 #>  #> Engine-Specific Arguments: #>   verbosity = 3 #>  #> Computational engine: midr # define a cross validation method set.seed(42) cv <- vfold_cv(na.omit(airquality), v = 3) # execute the hyperparameter tuning tune_res <- mid_spec %>%   tune_grid(     Ozone ~ .,     resamples = cv,     grid = 100   ) tune_best <- select_best(tune_res, metric = \"rmse\") tune_best #> # A tibble: 1 × 4 #>   penalty params_main params_inter .config                #>     <dbl>       <int>        <int> <chr>                  #> 1    8.70          38            1 Preprocessor1_Model079 # create a second-order mid surrogate model via \"custom formula\" mid_spec <- mid_surrogate(   params_main = tune_best$params_main,   params_inter = tune_best$params_inter,   penalty = tune_best$penalty,   custom_formula = Ozone ~ .^2 ) %>%   set_mode(\"regression\") %>%   set_engine(\"midr\", verbosity = 3) mid_spec #> mid surrogate Model Specification (regression) #>  #> Main Arguments: #>   penalty = tune_best$penalty #>   params_main = tune_best$params_main #>   params_inter = tune_best$params_inter #>   custom_formula = Ozone ~ .^2 #>  #> Engine-Specific Arguments: #>   verbosity = 3 #>  #> Computational engine: midr # fit the model mid_tune <- mid_spec %>%   fit(Ozone ~ ., airquality) # pass original data on to interpret() mid_tune #> parsnip model object #>  #>  #> Call: #> interpret(formula = Ozone ~ .^2, data = data, weights = weights, #>  verbosity = ..1, k = k, lambda = penalty) #>  #> Intercept: 42.099 #>  #> Main Effects: #> 5 main effect terms #>  #> Interactions: #> 10 interaction terms #>  #> Uninterpreted Variation Ratio: 0.18429 grid.arrange(nrow = 2,  ggmid(mid.importance(mid_tune$fit), theme = \"moon\"),  ggmid(mid_tune$fit, \"Temp\", main.effects = TRUE),  ggmid(mid_tune$fit, \"Wind\", main.effects = TRUE),  ggmid(mid_tune$fit, \"Temp:Wind\",        main.effects = TRUE, theme = \"moonlit\") )"},{"path":"https://ryo-asashi.github.io/midnight/reference/mid_surrogate.html","id":null,"dir":"Reference","previous_headings":"","what":"Global Surrogate Model Specification — mid_surrogate","title":"Global Surrogate Model Specification — mid_surrogate","text":"mid_surrogate() defines model serves surrogate model another target model. function can fit classification regression models.","code":""},{"path":"https://ryo-asashi.github.io/midnight/reference/mid_surrogate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global Surrogate Model Specification — mid_surrogate","text":"","code":"mid_surrogate(   mode = \"regression\",   params_main = NULL,   params_inter = NULL,   penalty = NULL,   custom_formula = NULL )"},{"path":"https://ryo-asashi.github.io/midnight/reference/mid_surrogate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Global Surrogate Model Specification — mid_surrogate","text":"mode single character string type model. params_main integer maximum number sample points model main effects (`k` main effects interpret()). params_inter integer maximum number sample points model interaction effects (`k` interactions interpret()). penalty non-negative number representing total amount regularization (`lambda` interpret()). custom_formula formula object. passed, fit() internally uses interpret.formula(), otherwise uses interpret.default() (`formula` interpret()).","code":""},{"path":"https://ryo-asashi.github.io/midnight/reference/midnight-package.html","id":null,"dir":"Reference","previous_headings":"","what":"midnight: A Tidymodels Interface for the 'midr' Package — midnight-package","title":"midnight: A Tidymodels Interface for the 'midr' Package — midnight-package","text":"'midnight' package implements 'parsnip' engine 'midr' package, allowing users seamlessly fit, tune, evaluate MID (Maximum Interpretation Decomposition) models 'tidymodels' workflows. Development augmentation package driven research \"Moonlight Seminar 2025\", collaborative study group actuaries Institute Actuaries Japan focused advancing practical applications interpretable models.","code":""},{"path":[]},{"path":"https://ryo-asashi.github.io/midnight/reference/midnight-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"midnight: A Tidymodels Interface for the 'midr' Package — midnight-package","text":"Maintainer: Ryoichi Asasihba ryoichi.asashiba@gmail.com","code":""},{"path":"https://ryo-asashi.github.io/midnight/news/index.html","id":"midnight-development-version-010900-903","dir":"Changelog","previous_headings":"","what":"midnight (development version) 0.1.0.900-903","title":"midnight (development version) 0.1.0.900-903","text":"Added “moon” “moonlit” color themes Added package document. Updated wrapper fit function fit_mid_surrogate() improve memory efficiency. Opened pkgdown website added favicons. Added mid_surrogate() make_mid_surrogate(). Created package hex logo.","code":""}]
